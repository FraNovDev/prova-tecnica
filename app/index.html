<!doctype html>
<html lang="en">

<head>
    <title>GestioneMagazzini</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
</head>

<body>
    <div class="titlePadding">
        <h1 class="display-5 text-primary text-start">GestioneMagazzini</h1>
    </div>
    <div class="headerPadding">
        <div class="my-5 mt-5">
            <h1 class="display-5 fw-light"><strong>Gestione ristoccaggio magazzino</strong></h1>
        </div>
    </div>
    <!-- <template id="app"> -->


    <div id="app" class="pagePadding">
        <div class="input-group pagePadding">
            <input type="text" class="form-control" v-model="searchInput" placeholder="Di cosa hai bisogno oggi?" aria-label="Recipient's username" aria-describedby="button-addon2">
            <button class="btn btn-warning btn-outline-secondary" type="button" id="button-addon2">CERCA</button>
        </div>
        <h3>Risultati</h3>
        <div class="card my-3" v-for="item in filteredItems">
            <div class="card-body">
                <h5 class="card-title">{{item.name}}</h5>
                <p class="card-text">{{item.description}}</p>
                <a href="#" class="btn btn-success">NOME CTA</a>
            </div>
        </div>
    </div>

    <!-- </template> -->
</body>

<style>
    .pagePadding {
        padding: 0vh 10vh 20vh 10vh;
        /* margin: 0vh 10vh 20vh 10vh; */
        background-color: transparent;
    }
    
    .headerPadding {
        padding: 0vh 25vh 0vh 25vh;
        background-color: transparent;
    }
    
    .titlePadding {
        padding: 5vh 25vh 0vh 25vh;
        background-color: transparent;
    }
    
    .myImage {
        height: 100vh;
        background-size: cover;
        background-image: url('bg-monitor.png');
        background-repeat: no-repeat;
    }
    
    .socialImage {
        height: 100px;
        width: 100px;
        margin: auto;
        display: block;
    }
    
    .cardImage {
        background: transparent !important;
        margin: 0 auto;
    }
</style>
<script>
    var app = new Vue({
        el: '#app',
        data: {
            searchInput: '',
            items: [],
            filteredItems: []
        },
        mounted() {
            $.getJSON('./items.json').then(data => {
                this.items = this.alphabeticSort(data);
                this.filteredItems = this.items
            })
        },
        methods: {
            alphabeticSort(array) {
                return array.sort((a, b) => a.name.localeCompare(b.name));
            }
        },
        watch: {
            searchInput: function() {
                if (this.searchInput) {
                    this.filteredItems = [];
                    res = this.items.filter(item => item.name.toLowerCase().includes(this.searchInput.toLowerCase()) || item.description.toLowerCase().includes(this.searchInput.toLowerCase()))
                    this.filteredItems = this.alphabeticSort(res);
                } else {
                    this.filteredItems = this.items
                }
            }
        }
    });
</script>

</html>